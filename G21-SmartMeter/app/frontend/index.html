<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SmartMeter</title>
        <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg">
        <link rel="stylesheet" href="style.css">
        <script defer src="api.js"></script>
        <script defer src="heartbeat.js"></script>
        <script defer src="contagiri.js"></script>
        <script defer src="chart.js"></script>
        <script defer src="notifiche.js"></script>
        <script defer src="download.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    </head>
    <body>
        <div class="above">
            <button aria-placeholder="scarica" id="scarica" class="icon-btn">
                <i class="fa fa-download fa-2x" style="color: brown;"></i>
            </button>
            <div id="powerToday" class="card">
                <p>Consumo Totale:</p>
                <div id="totale">
                    <span id="powerTodayValue">0</span>
                    <span>kWh</span>
                </div>
            </div>

            <button aria-placeholder="notifiche" id="notifiche" class="icon-btn" onclick="getElementById('OverlayNotifiche').style.display='flex'">
                <i class="fa fa-bell fa-2x" style="color:brown;"></i>
                <span id="badgeNotifiche" class="badge-notifiche"></span>
            </button>

            <div id="livePower" class="card">
                <p>Consumo Live:</p>

                <div style="position: relative; width: 140px; height: 110px; display: flex; align-items: center; justify-content: center;">
                    <svg width="150" height="110" viewBox="0 0 150 110">
                        <path d="M10,80 A65,65 0 0,1 140,80" stroke="#ddd" stroke-width="10" fill="none" />
                        <path id="livePowerArc" d="M10,80 A65,65 0 0,1 140,80" stroke="brown" stroke-width="10" fill="none" stroke-linecap="round" stroke-dasharray="0 203"/>
                    </svg>

                    <div id="livePowerValueContainer" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
                        font-size: 18px; font-weight: 600; text-align: center;">
                        <span id="livePowerValue">0</span> kW
                    </div>
                </div>
            </div>

            <button aria-placeholder="storico" class="icon-btn" id="storico">
               <i class="fa fa-rotate-left fa-2x" style="color:brown;"></i>
            </button>
        </div>

        <div id="overlay" style="display:none;">
            <button class="chiudi" onclick="document.getElementById('overlay').style.display='none'">X</button>
            <canvas id="storicoChart"></canvas>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        </div>

        <div id="OverlayNotifiche" style="display:none;">
    
            <div class="notifiche">
                <div class="notifiche-header">
                    <span>Notifiche</span>
                    <button class="chiudiN" onclick="document.getElementById('OverlayNotifiche').style.display='none'">X</button>
                </div>

                <div class="notifiche-content">
                </div>
            </div>
        </div>


        <canvas id="demo"></canvas>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js"></script>
    </body>
</html>
