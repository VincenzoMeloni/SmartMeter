<!DOCTYPE html>
<html lang="it">
    <head>
        <title>SmartMeter</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg">
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <script defer src="radialbar.js"></script>
        <script defer src="heartbeat.js"></script>
        <script defer src="chart.js"></script>
        <script defer src="download.js"></script>
        <script defer src="notifiche.js"></script>
        <script defer src="api.js"></script>
        <script defer src="testPost.js"></script>
        <script defer src="tabella.js"></script>
    </head>
    <body>
        <header>
            <div id="header-left">
                <button aria-placeholder="scarica" id="scarica" class="icon-btn">
                    <i class="fa fa-download fa-2x" style="color: black;"></i>
                </button>
            </div>
            <div id="header-right">
                <button aria-placeholder="notifiche" id="notifiche" class="icon-btn">
                    <i class="fa fa-bell fa-2x" style="color:black;"></i>
                    <span id="badgeNotifiche" class="badge-notifiche">0</span>
                </button>
                <button aria-placeholder="storico" class="icon-btn" id="storico">
                    <i class="fa fa-rotate-left fa-2x" style="color:black;"></i>
                </button> 
            </div>
        </header>

        <main>
            <div id="left-column">
                <div class="card">
                    <h4>Lettura Contatore</h4>
                    <span id="powerTodayValue">0</span> 
                    <span>kWh</span>
                </div>
                <div class="card">
                    <div id="livePowerChart"></div>
                </div>
            </div>

            <div id="right-column">
                <div class="card big">
                    <div id="realtimeChart"></div>
                </div>
                <div class="card big" id="postCard">
                    <h4>Simula POST</h4>
                    <div class="field">
                        <label for="postCont"><strong>Contatore (kWh)</strong></label>
                        <input type="number" id="postCont" placeholder="Es: 3.2" step="0.01" min="0">
                    </div>

                    <div class="field">
                        <label for="postPot"><strong>Potenza (kW)</strong></label>
                        <input type="number" id="postPot" placeholder="Es: 0.12" step="0.01" min="0">
                    </div>
                    <button id="postBtn">POST</button>
                </div>
            </div>
            
            <div class="card full-width">
                <h4>Esempio Dati Esportabili</h4>
                <table id="exampleTable">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Contatore (kWh)</th>
                            <th>Potenza (kW)</th>
                            <th>Fake</th>
                        </tr>
                    </thead>
                    <tbody>
                
                    </tbody>
                </table>
            </div>
        </main>

        <div id="overlay">
            <button class="chiudi" onclick="closeOverlay()">X</button>
            <canvas id="storicoChart"></canvas>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        </div>

        <div id="OverlayNotifiche">
            <div class="notifiche">
                <div class="notifiche-header">
                    <span>Notifiche</span>
                </div>

                <div class="notifiche-content">
                </div>
            </div>
        </div>

    </body>
</html>